<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login - ListME</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="imagem/png" href="/FRONT/Home/Images/iconeSite.png" />
</head>
<body>
    <div class="alinhar"> 
    <div class="main">
        <div class="primeiro_bloco"> 
            <figure class="figure_login">
                <img class="imagem_login" src="./Images/Tablet login-pana.png">
            </figure>
            <div>
                <p class="registro_texto"> Não possui uma conta? Registre-se agora!</p>
                <form action="../Registro/index.html">
                    <button class="botao_primeirobloco">Registrar</button>
                </form>
            </div>
        </div>
        <div class="tela_principal">
            <h1 class="titulo">Faça seu login</h1>
            <div class="form">
                <form
                method = "get"
                >
                    <div>
                        <input class="inputs" 
                        id="email"
                        name="email"
                        required
                        placeholder="Email"
                        type="email">
                    </div>
                    <br>
                    
                    <div>
                        <input class="inputs" 
                        id="senha"
                        name="senha"
                        required
                        placeholder="Senha"
                        type="password">
                    </div>
                    <br>
                    <a >
                        <input  onclick="PostAcesso()"  type="button" class="botao" value="Confirmar">
                    </a>
                    <div class="checkbox">
                        <input  type="checkbox" name="manterlog" id="logado" value ="manterlogado">
                        <label for="logado"> Manter-me logado </label>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
<script>
    async function PostAcesso(){

        let inputEmail = document.querySelector("#email").value;
        let inputSenha = document.querySelector("#senha").value;

        let body= {
            email : inputEmail,
            senha : inputSenha
            }   
        console.log("teste")    
        console.log(body);    

        let configCabecalho={
            method: 'POST',
            body: JSON.stringify(body),
            headers:{
                'Content-Type': 'application/json; charset=UTF-8',
                
                'Accept': 'application/json, application/xml, text/plain, text/html, *.*',
            }
        }
        let response = await fetch(`https://localhost:7163/api/Acesso/Autenticar`,configCabecalho);
        // window.location.href=`http://127.0.0.1:5173/#/home`;
    // let usuario = await response.json();
    // console.log(usuario);
    }
</script>
    
</body>
</html>